# Automatically generated by gn_to_cmake.py
# Please modify configs of compilation in the appropriate BUILD.gn

# Set the minimum version of CMAKE that is required
cmake_minimum_required(VERSION 3.4.0)
project (gn_testing)


add_definitions(-DGN_TESTING_DEFINE=1)

set(ROOT_PATH ${CMAKE_CURRENT_SOURCE_DIR}/../../..)

include_directories(
  ${ROOT_PATH}/
  ${ROOT_PATH}/out/gn_testing/gen/
  ${ROOT_PATH}/tools/gn_tools/testing/
  )

add_library(gn_testing_sub SHARED IMPORTED)

set_target_properties(gn_testing_sub PROPERTIES IMPORTED_LOCATION 
  ${ROOT_PATH}/tools/gn_tools/testing/build/intermediates/cmake/noasan${CMAKE_BUILD_TYPE}/obj/${CMAKE_ANDROID_ARCH_ABI}/libgn_testing_sub.so
  )

set(tools__gn_tools__testing_gn_testing_source_sources
  ${ROOT_PATH}/tools/gn_tools/testing/gn_testing.cc
  ${ROOT_PATH}/tools/gn_tools/testing/gn_testing.h
  )

file(GLOB tools__gn_tools__testing_gn_testing_shared
  ${tools__gn_tools__testing_gn_testing_source_sources})

set(action_target 
  tools__gn_tools__testing_gn_testing_action
  )

set(${action_target}__sources 
  
  )

set(${action_target}__output 
  ${ROOT_PATH}/out/gn_testing/gen/tools/gn_tools/testing/action.txt
  )

add_custom_command(OUTPUT ${${action_target}__output}
  COMMAND ${CMAKE_COMMAND} -E make_directory "${ROOT_PATH}/out/gn_testing/gen/tools/gn_tools/testing"
  COMMAND python3 "${ROOT_PATH}/tools/gn_tools/testing/gn_testing_action.py"
  DEPENDS  ${${action_target}__sources}
  WORKING_DIRECTORY "${ROOT_PATH}/out/gn_testing/"
  COMMENT "Action: ${action_target}"
  VERBATIM)
add_custom_target(${action_target} SOURCES ${${action_target}__sources} DEPENDS ${${action_target}__output})



# Main target
add_library(gn_testing SHARED ${tools__gn_tools__testing_gn_testing_shared})

add_dependencies(gn_testing 
  tools__gn_tools__testing_gn_testing_action
  )

target_compile_options(gn_testing PUBLIC -Oz)

find_library(android-lib android)
find_library(dl-lib dl)
find_library(jnigraphics-lib jnigraphics)
find_library(log-lib log)

target_link_libraries(gn_testing
  ${android-lib}
  ${dl-lib}
  ${jnigraphics-lib}
  ${log-lib}
  gn_testing_sub
  )


# Compiler and Linker flags
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -fvisibility-inlines-hidden -fvisibility=hidden ")

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fvisibility-inlines-hidden -fvisibility=hidden ")

set(CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS} -Wl,--exclude-libs,ALL,--gc-sections ")

